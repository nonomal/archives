-  [Electron存储简单数据和用户首选项推荐用electron-store](https://www.cnblogs.com/xusx2014/p/11967789.html)
-  [进程通信](https://www.jianshu.com/p/7f1002c281e2)
-  [谷歌翻译](https://www.jianshu.com/p/91c8215c66d8)

  







### 请求拦截

```js
// 需要拦截的URL地址 
   const xxx_filter = {
        urls: ["https://*.xxx.com/*", "http://*.yyy.com/*"]
    }    
   session.defaultSession.webRequest.onBeforeSendHeaders(xxx_filter, (details, callback) => {
        details.requestHeaders['Referer'] = 'http://授权的referer头信息'
        callback({ requestHeaders: details.requestHeaders });
    })
```



### Electron应用日志文件输出

> npm install electron-log
>
> const log = require('electron-log');

**设置是否输出位置**

```js
log.transports.file.level = false; //是否输出到 日志文件
log.transports.console.level = false; //是否输出到 控制台
```

**日志类型**

```js
log.error('error!');
log.info('info!');
log.warn('warn!');
log.verbose('verbose!');
log.debug('debug!');
log.silly('silly!');
```

**位置**

```bash
on Linux: ~/.config/<app name>/log.log
on macOS: ~/Library/Logs/<app name>/log.log
on Windows: %USERPROFILE%\AppData\Roaming\<app name>\logs\log.log
```

### 在electron主进程中使用localstorage

> npm install electron-localstorage
>
> const storage = require('electron-localstorage');

**增删改查**

```js
storage.setItem(`myCat`, `Tom`);  // 存储
let cat = storage.getItem(`myCat`); // 获取
storage.removeItem(`myCat`); //移出
storage.clear(); //清除所有
storage.getAll(); //获取所有存储的项
```

**自定义存储路径**

```js
storage.setStoragePath(path.join(__dirname,'test.json'));
```

**获取存储路径**

```js
storage.getStoragePath();
```

