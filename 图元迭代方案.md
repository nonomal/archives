# moguv图元迭代方案设计

### 原则

1. 兼容存量数据

- 编辑兼容

- 预览兼容

2. 可选是否升级（渐进/优雅降级）

3. 灵活性，可扩展性



### 前置条件

版本规范（参考datav）

[自定义组件-静态资源的使用和兼容更新](https://helpcdn.aliyun.com/document_detail/372608.html#title-1kp-bx1-bqs)

主版本更新：是指组件发生不兼容修改，比如组件的配置项和代码进行了大范围修改，甚至是重构，已经无法兼容时，此时主板本号X需要递增，次版本号和修订号置为0，例如：0.1.2更新到1.0.0。

次版本更新：是指组件发生兼容新功能的修改，比如组件新增了背景色的配置项，此时次版本号Y需要递增，主版本号不变，修订号置为0，例如：1.2.3更新到1.3.0。

修订号更新：是指组件只发生了代码的修正，比如组件中修改了某个配置项的属性值，此时修订号Z 需要递增，主版本号和次版本号不变，例如：1.2.3更新到1.2.4。



### 图元包范例

index.ts  // 入口，图元渲染逻辑

package.json  // 图元配置（默认值，数据映射，属性配置）

readme.md  // 功能描述

changelog.md  // 迭代更新记录



PS:图元包生成器(cli)



### 图元构建规范

<img src="/Users/vannvan/Downloads/图元构建规范.png" alt="图元构建规范" style="zoom: 67%;" />







